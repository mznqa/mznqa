#pragma execution_character_set("utf-8")

#ifndef MZNQA_CLASSES_ENGINE_SCENELOADRES_H_
#define MZNQA_CLASSES_ENGINE_SCENELOADRES_H_

#include <string>

#include "cocos2d.h"
#include "ui/CocosGUI.h"

// 该场景在载入资源过程中显示
class SceneLoadRes : public cocos2d::Layer
{
private:
	// 场景私有量 //////////////////////////////////////////////////////////////////////////

	// 用于存放从外部载入的场景文件的资源
	cocos2d::Node *rootNode;
	//////////////////////////////////////////////////////////////////////////

	// 调度器 //////////////////////////////////////////////////////////////////////////
	// 逐帧调度器
	void update(float dt);
	//////////////////////////////////////////////////////////////////////////

public:
	CREATE_FUNC(SceneLoadRes);
	static cocos2d::Scene* createScene();

	// 场景公共量 //////////////////////////////////////////////////////////////////////////

	// 用于输出的文本框
	cocos2d::ui::Text *uiTextOutput;
	//////////////////////////////////////////////////////////////////////////

	// 固有的场景生命周期方法 //////////////////////////////////////////////////////////////////////////
	// 重写场景初始化方法
	virtual bool init() override;

	// 重写场景进入时的方法
	virtual void onEnter() override;

	// 重写场景离开时的方法
	virtual void onExit() override;
	//////////////////////////////////////////////////////////////////////////

	// API //////////////////////////////////////////////////////////////////////////

	// 切换到场景SceneGameMain
	void replaceSceneGameMain();

	// 输出资源载入进度
	void showProgress(std::string log);
	//////////////////////////////////////////////////////////////////////////
};

#endif	// MZNQA_CLASSES_ENGINE_SCENELOADRES_H_